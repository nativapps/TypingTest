<header>
	<%= render :partial => "header_view/header_admin" %>
		<h1>Result</h1>
		<p>Administrator</p>
</header>

<main>
		<div class="main_wrapper">

			<ul class="controls_ul clearfix">
				<form>
					<li><input class="input-search" type="search" placeholder="Search"></li>
					<li><button class="button-search"><%= image_tag("search.png") %></button></li>
				</form>

				<form>
					<li><input class="input-search" type="search" placeholder="Numero de resultados"></li>
					<li><button class="button-search">Filtrar</button></li>
				</form>
			</ul>

			<%= form_tag(reports_path, method: :get) do %>
				<%= number_field_tag :term %>
				<%= submit_tag 'Search' %>
			<% end %>
			
			<%= paginate @reports %>
			
			<br><br>

			<div class="table-wrapper">
				<table cass="table-results">
					<tr>
						<th><i class="fas fa-sort"></i> Participant Name</th>
						<th><i class="fas fa-sort"></i> Identification</th>
						<th><i class="fas fa-sort"></i> Test</th>
						<th><i class="fas fa-sort"></i> Room</th>
						<th><i class="fas fa-sort"></i> Acurracy</th>
						<th><i class="fas fa-sort"></i> WPM</th>
						<th><i class="fas fa-sort"></i> Typed</th>
						<th><i class="fas fa-sort"></i> Correct</th>
						<th><i class="fas fa-sort"></i> Incorrect</th>
						<th></th>
					</tr>

					<% @reports.each do |r| %>
						<tr>
							<td><%= r.participant.first_name %> <%= r.participant.last_name %></td>
							<td><%= r.participant.identification %></td>
							<td><%= r.participant.rooms.find(r.room_id).test_banks.find(r.test_id).id %></td>
							<td><%= r.participant.rooms.find(r.room_id).id %></td>
							<td><%= r.accuracy %></td>
							<td><%= r.wpm %></td>
							<td><%= r.total_type %></td>
							<td><%= r.correct %></td>
							<td><%= r.incorrect %></td>
							<td>
							<%= link_to r, method: :delete, data: {confirm: 'Â¿Do you want to delete this result?'} do %>
								<i class="fas fa-trash"></i>
							<% end %>
							</td>
						</tr>
					<% end %>
				</table>

				<br><br>

				<%#= paginate @reports %>
			</div> <!-- .table-wrapper -->
		</div><!-- .main_wrapper -->
	</main>
