<header>
	<%= render :partial => "header_view/header_admin" %>
	<h1>Result</h1>
	<p>Administrator</p>
</header>

<main>
	<div class="main_wrapper">
		<%= form_tag(reports_path, method: :get) do %>
			<%= text_field_tag :search, params[:search] %>
			<%= submit_tag 'Search' %>
		<% end %>
		

		<div class="table-wrapper">
			<table cass="table-results">
				<tr>
					<th> First name</th>
					<th> Identification </th>
					<th> Test </th>
					<th> Room </th>
					<th> Accuracy </th>
					<th> WPM </th>
					<th> Total typed </th>
					<th> Correct </th>
					<th> Incorrect </th>
					<th></th>
				</tr>
				
				<% @reports.each do |r| %>
					<tr>
						<td><%= r.participant.first_name %> <%= r.participant.last_name %></td>
						<td><%= r.participant.identification %></td>
						<td><%= r.participant.rooms.find(r.room_id).test_banks.find(r.test_id).name %></td>
						<td><%= r.participant.rooms.find(r.room_id).name %></td>
						<td><%= r.accuracy %></td>
						<td><%= r.wpm %></td>
						<td><%= r.total_type %></td>
						<td><%= r.correct %></td>
						<td><%= r.incorrect %></td>
						<td>
						<%= link_to r, method: :delete, data: {confirm: 'Â¿Do you want to delete this result?'} do %>
							<i class="fas fa-trash"></i>
						<% end %>
						</td>
					</tr>
				<% end %>
			</table>
			
			<br><br>
			
			
		</div> <!-- .table-wrapper -->
	</div><!-- .main_wrapper -->
</main>
